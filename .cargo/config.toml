# Build target configuration
# Default to embedded target for binary builds
[build]
target = "thumbv7m-none-eabi"

[target.thumbv7m-none-eabi]
rustflags = ["-C", "link-arg=-Tlink.x", "-C", "link-arg=-Tdefmt.x"]

[target.'cfg(all(target_arch = "arm", target_os = "none"))']
runner = "probe-rs run --chip STM32L151RC"
# --probe  0483:3748"
#STM32L151RC

[env]  
DEFMT_LOG = "trace"
